<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<title><data:blog.pageTitle/></title>
		<b:skin><![CDATA[
		@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap');

		* {
			margin: 0;
			padding: 0;
			border: 0;
			font-size: 100%;
			font: inherit;
			vertical-align: baseline;
			font-family: 'Noto Sans KR', sans-serif; 
			color: #fff;
		}
		/* HTML5 display-role reset for older browsers */
		article, aside, details, figcaption, figure, 
		footer, header, hgroup, menu, nav, section {
			display: block;
		}
		body {
			line-height: 1;
		}
		ol, ul {
			list-style: none;
		}
		blockquote, q {
			quotes: none;
		}
		blockquote:before, blockquote:after,
		q:before, q:after {
			content: '';
			content: none;
		}
		table {
			border-collapse: collapse;
			border-spacing: 0;
		}

		#Header1{
			text-align: center;
			font-size: 64pt;
			padding: 1.3em 0 1.3em 0;
		}

		#blog-main {
			width: 720px;
		}

		#Blog1{
			margin-left: 0.6em;
			margin-right: 0.6em;
			display: flex;
			flex-direction: column;
		}

		#HTML1 > div {
			visibility: hidden;
			width: 11em;
			padding: 0.7em;
			border-radius: 8px;
			margin-bottom: 0.8em;
		}

		#category-featured-posts {
			background-color: #487bce;
		}

		#category {
			background-color: #3c3d3e;
		}

		#category-about-me {
			background-color: #ff2f2f;
		}

		#HTML2 > div {
			visibility: hidden;
			margin-bottom: 0.8em;
			padding: 0.8em 1em;
			width: 11em;
			background-color: #fffafa5c;
			border-radius: 8px;
		}

		#search-container {
			display: flex;
			align-items: center;
			position: relative;
			bottom: 0.6em;
		}

		#search-filtered {
			flex: auto;
		}

		#searchbar {
			position: relative;
			display: flex;
			align-items: center;
			right: -25px;
		}	

		#search-select {
			border-radius: 2em;
			font-size: 9pt;

			background-color: #3564ac;
			padding: 0.2em 0.5em;

			box-sizing: border-box;
			height: 100%;
			background: #00000000;

			border-radius: 0;
			margin: 0;
			line-height: 2em;
			display: inline-block;
			text-align: center;
			appearance: none;
		}

		#search-input {
			padding: 0.2em 2.2em 0.2em 1em;
			background-color: #595959;
			flex: auto;
			width: 13em;
			background: rgba(0,0,0,0);

			box-sizing: border-box;
			height: 30px;
			margin: 0;
			display: inline-block;
			vertical-align: top;
		}

		#search-input:active, #search-input:focus {
			outline: none;
		}

		#search-button {
			background-color: #0000;
			position: relative;
			left: -32px;
		}

		.post-item {
			background-color: #171717;
			margin: 0 0 0.6em;
			padding: 1.1em;
			border-radius: 6px;
			position: relative;
		}

		.post-item:hover {
			background-color: #202122;
		}

		.post-item-label {
			position: relative;
			top: 0.2em;
		}

		.post-date {
			margin-bottom: 1em;
		}

		.post-date > div {
			color: #a48f74;
		}

		.post-item-etc {
			display: flex;
			align-items: center;
			margin-top: 0.5em;
		}

		.post-item-author {
			display: flex;
			align-items: center;
		}

		.post-item-comment {
			display: inline-flex;
			align-items: center;
			position: relative;
			flex: auto;
		}

		.post-title {
			color: #519dff;
			font-size: 20pt;
			font-weight: bold;
		}

		.post-content {
			margin-top: 1em;
			text-align: justify;
		}

		.post-label-separator {
			color: #63676e;
		}

		.post-label-border {
			border: solid 1px #35383e;
			background-color: #35383e;
			border-radius: 2em;
			padding-left: 0.5em;
			padding-right: 0.5em;
			font-size: 8pt;
		}

		.post-label-border:hover {
			border: solid 1px #ff2f2f;
			background-color: #ff2f2f;
		}
		
		.post-label {
		  	position: relative;
			bottom: 0.5px;
		}
		
		.post-author-photo {
			position: relative;
			right: 0.35em;

			border-radius: 50%;
		}

		.post-comment-count {
			position: relative;
			left: -0.7em;
			bottom: -0.6em;
			border-radius: 2em;
			padding-left: 0.19em;
			padding-right: 0.25em;
			background-color: #35383e;
		}

		.post-comment-count>span {
			position: relative;
			bottom: 1.7px;
			left: 0.5px;
			font-size: 10pt;
			color: #fff;
		}
		  
		body {
			background-color: #000;
			display: flex;
			justify-content: center;
		}

		a {
			text-decoration: none; 
		}

		a:active, a:focus {
			outline: none;
		}

		.post-content * {
			width: 100%;
			height: auto;
			line-height: 160%;
		}

		#menu-button {
			position: relative;
			top: 4px;
		}

		@media ( max-width: 1200px ) {
			#HTML1 {
				display: none;
			}

			#HTML2 {
				display: none;
			}
		}
		  
		@media ( max-width: 550px ) {
			#Header1 {
				font-size: 55pt;
			}

			.post-item {
				padding: 0.8em; 
			}
		}
		
		@media ( max-width: 350px ) {
			#Header1 {
				font-size: 40pt;
			}
		}

		/*no-preference, light, dark*/
		@media (prefers-color-scheme: light) {
			.themed {
			  background: white;
			  color: black;
			}
		}
		]]></b:skin>
	</head>
	<body>

		<b:section id = 'blog-left'>
			<b:widget id='HTML1' title='ass' type='HTML' version='3'>
				<b:includable id='main'>
					<div id = 'category-featured-posts'>
						<div>featured posts</div>
						<div>recent posts</div>
						<div>notice</div>
					</div>
					<div id = 'category'>
						<div>category 1</div>
						<div>category 2</div>
						<div>category 3</div>
						<div>category 4</div>
						<div>category 5</div>
						<div>category 6</div>
						<div>category 7</div>
						<div>uncategorized</div>
						<div>old posts</div>
					</div>
					<div id = 'category-about-me'>about me</div>
				</b:includable>
			</b:widget>
		</b:section>


		<b:section id = 'blog-main'>

			<b:widget id = 'Header1' title='' type='Header' version='3'><b:includable id='main'><a expr:href = 'data:blog.homepageUrl'><data:title/></a></b:includable></b:widget>

			<b:widget id = 'Blog1' title='' type='Blog' version='3'>
				
				<b:includable id='main'>
					<div id = "search-container">
						<div id = 'menu-button'>
							<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg">

								<g>
								 <title>background</title>
								 <rect fill="none" id="canvas_background" height="34" width="34" y="-1" x="-1"/>
								</g>
								<g>
								 <title>Layer 1</title>
								 <polygon stroke="null" id="svg_3" points="26.677922248840332,13.780322074890137 18.293843269348145,13.780322074890137 13.7056303024292,13.780322074890137 6.770929336547852,13.780322074890137 3.3804445266723633,13.780322074890137 3.3804445266723633,18.219676971435547 5.487388610839844,18.219676971435547 13.7056303024292,18.219676971435547 18.293843269348145,18.219676971435547 24.96688747406006,18.219676971435547 28.619555473327637,18.219676971435547 28.619555473327637,13.780322074890137 " fill="#4f86ff"/>
								 <polygon stroke="null" id="svg_9" points="26.677921533584595,4.740143775939941 18.293842554092407,4.740143775939941 13.705630540847778,4.740143775939941 6.770929574966431,4.740143775939941 3.3804445266723633,4.740143775939941 3.3804445266723633,9.179498672485352 5.487388849258423,9.179498672485352 13.705630540847778,9.179498672485352 18.293842554092407,9.179498672485352 24.96688675880432,9.179498672485352 28.6195547580719,9.179498672485352 28.6195547580719,4.740143775939941 " fill="#4f86ff"/>
								 <polygon stroke="null" id="svg_10" points="26.677922248840332,23.08835792541504 18.293843269348145,23.08835792541504 13.7056303024292,23.08835792541504 6.770929336547852,23.08835792541504 3.3804445266723633,23.08835792541504 3.3804445266723633,27.527713775634766 5.487388610839844,27.527713775634766 13.7056303024292,27.527713775634766 18.293843269348145,27.527713775634766 24.96688747406006,27.527713775634766 28.619555473327637,27.527713775634766 28.619555473327637,23.08835792541504 " fill="#4f86ff"/>
								</g>
							</svg>
						</div>
						<div id = "search-filtered">
							<span></span>
						</div>
						<form id="searchbar" action = 'search'>
							<select id = 'search-select'>
								<option value="">category</option>
								<option value="korean">개나리</option>
								<option value="english">오징어</option>
								<option value="chinese">불란서제빵소</option>
								<option value="spanish">포르투갈커피콩</option>
							</select>
							<input id = "search-input" name="q" type="text" placeholder="search here"/>
							<button id = 'search-button'>
								<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg"> <!-- 4f86ff -->
									<g>
									 <title>background</title>
									 <rect fill="none" id="canvas_background" height="402" width="582" y="-1" x="-1"/>
									</g>
									<g>
									 <title>Layer 1</title>
									 <path fill="#4f86ff" id="XMLID_223_" d="m27.414,24.586l-5.077,-5.077c1.049,-1.581 1.663,-3.474 1.663,-5.509c0,-5.514 -4.486,-10 -10,-10s-10,4.486 -10,10s4.486,10 10,10c2.035,0 3.928,-0.614 5.509,-1.663l5.077,5.077c0.78,0.781 2.048,0.781 2.828,0c0.781,-0.781 0.781,-2.047 0,-2.828zm-20.414,-10.586c0,-3.86 3.14,-7 7,-7s7,3.14 7,7s-3.14,7 -7,7s-7,-3.14 -7,-7z"/>
									</g>
								   </svg>
							</button>
						</form>						
					</div>

					<b:if cond = 'data:view.isError'> 에러페이지이다</b:if>


					<b:loop var = 'i' values = 'data:posts'>
						<b:include name = 'get-posts' var = 'i'></b:include>
					</b:loop>

					
				</b:includable>

				<!-- includables -->
				<b:includable id = 'get-posts'>
					<div expr:id = '"post-item-"+ data:i.id' class = 'post-item'>
						<div class = 'post-item-meta'>
							<h1><a expr:id = '"post-id-"+ data:i.id' class = 'post-title' expr:href = 'data:i.url'><data:i.title/></a></h1>
						</div>

						<span class = 'post-item-label'>
							<b:loop values='data:i.labels' var='label'>
								<span class = 'post-label-separator'><span class = 'post-label-border'><a class = 'post-label' expr:href = 'data:label.url'><data:label.name/></a></span></span>
							</b:loop>
						</span>

						<div expr:id = '"post-content-"+ data:i.id' class = 'post-content'>
							<b:if cond = 'data:view.isSingleItem or data:view.isPage'>
								<div class = 'post-date'>
									<div>published : <data:i.date.iso8601/></div>
									<div>last edited : <data:i.lastUpdated.iso8601/></div>
								</div>
								<data:i.body/>
							<b:else/>
								<p><data:i.snippets.short/></p>
							</b:if>
						</div>

						<div class = 'post-item-etc'>
							<span class = 'post-item-comment'>
								<svg class = 'post-comment-icon' width="25" height="25" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd">
									<g>
										<title>background</title>
										<rect fill="none" id="canvas_background" height="27" width="27" y="-1" x="-1"/>
									</g>
									<g>
										<title>Comments</title>
										<path stroke="null" id="svg_1" fill="#41e277" fill-rule="nonzero" d="m3.262229,1l18.097833,0c1.244226,0 2.262229,1.064119 2.262229,2.364708l0,14.188248c0,1.300589 -1.018003,2.364708 -2.262229,2.364708l-15.835604,0c0,0 -2.459609,2.571029 -3.751907,3.921868c-0.129513,0.13538 -0.324064,0.17558 -0.493166,0.102865c-0.169102,-0.073306 -0.279385,-0.24593 -0.279385,-0.437471c0,-4.417274 0,-20.140218 0,-20.140218c0,-1.300589 1.018003,-2.364708 2.262229,-2.364708zm2.262229,13.005894c0,0.313324 0.119333,0.614233 0.331417,0.835924c0.212084,0.221691 0.499953,0.34643 0.799698,0.34643c2.556319,0 8.754827,0 11.311145,0c0.299745,0 0.587614,-0.124738 0.799698,-0.34643c0.212084,-0.221691 0.331417,-0.5226 0.331417,-0.835924c0,-0.313915 -0.119333,-0.614233 -0.331417,-0.835924c-0.212084,-0.222283 -0.499953,-0.34643 -0.799698,-0.34643c-2.556319,0 -8.754827,0 -11.311145,0c-0.299745,0 -0.587614,0.124147 -0.799698,0.34643c-0.212084,0.221691 -0.331417,0.522009 -0.331417,0.835924c0,0 0,0 0,0zm0,-3.547062c0,0.313324 0.119333,0.614233 0.331417,0.835924c0.212084,0.221691 0.499953,0.34643 0.799698,0.34643c2.556319,0 8.754827,0 11.311145,0c0.299745,0 0.587614,-0.124738 0.799698,-0.34643c0.212084,-0.221691 0.331417,-0.5226 0.331417,-0.835924c0,-0.313915 -0.119333,-0.614233 -0.331417,-0.835924c-0.212084,-0.222283 -0.499953,-0.34643 -0.799698,-0.34643c-2.556319,0 -8.754827,0 -11.311145,0c-0.299745,0 -0.587614,0.124147 -0.799698,0.34643c-0.212084,0.221691 -0.331417,0.522009 -0.331417,0.835924c0,0 0,0 0,0zm0,-3.547062c0,0.313324 0.119333,0.614233 0.331417,0.835924c0.212084,0.221691 0.499953,0.34643 0.799698,0.34643c2.556319,0 8.754827,0 11.311145,0c0.299745,0 0.587614,-0.124738 0.799698,-0.34643c0.212084,-0.221691 0.331417,-0.5226 0.331417,-0.835924c0,-0.313915 -0.119333,-0.614233 -0.331417,-0.835924c-0.212084,-0.222283 -0.499953,-0.34643 -0.799698,-0.34643c-2.556319,0 -8.754827,0 -11.311145,0c-0.299745,0 -0.587614,0.124147 -0.799698,0.34643c-0.212084,0.221691 -0.331417,0.522009 -0.331417,0.835924c0,0 0,0 0,0z"/>
									</g>
								</svg>
								<span class = 'post-comment-count'><span><data:i.numberOfComments/></span></span>
							</span>

							<span class = 'post-item-author'>
								<span><img class = 'post-author-photo' expr:src = 'data:i.author.authorPhoto.image' width="32" height="32"></img></span>
								<span class = 'post-author'><data:i.author.name/></span>
							</span>								
						</div>
					</div>
				</b:includable>

				<b:includable id = 'get-posts-next'>
					
				</b:includable>
				<!-- includables end -->
			</b:widget>

		</b:section>

		<b:section id = 'blog-right'>
			<b:widget id='HTML2' title='dd' type='HTML' version='3'>
				<b:includable id='main'>
					<div>
						<div>index</div>
						<div>asdf</div>
						<div>asdf</div>
						<div>asdf</div>
						<div>asdf</div>
						<div>asdf</div>
						<div>asdf</div>
					</div>
				</b:includable>
			</b:widget>
		</b:section>

		<!-- <script type='text/javascript'>
			document.addEventListener('mousedown', function(e) {
				const target = e.target;

				if(target.className === 'post-title') {
					const post_id = target.id.split('-')[2];

					console.log(target.href, " ", window.location.href, " ", target.href===window.location.href);
					
					if(target.href !== window.location.href) {
						target.addEventListener('click', (e)=> {
							const httpRequest = new XMLHttpRequest();

							e.preventDefault();

							httpRequest.onreadystatechange = () => {
								if(httpRequest.readyState === XMLHttpRequest.DONE) {
									if(httpRequest.status === 200) {
										const post = JSON.parse(httpRequest.responseText);
										const page_title = "<data:blog.pageTitle/>: " + post.title;

										document.title = page_title;
										history.pushState({}, page_title, target.href);
										document.getElementById("post-content-" + post_id).innerHTML = '<div class = '+ "post-date" +'><div>published : ' + post.published + '</div>'+ '<div>last edited : ' + post.updated + '</div></div>' + post.content;
										console.log(target.href, " ", window.location.href, " ", target.href===window.location.href);
									} else {
										document.getElementById("post-content-" + post_id).innerHTML = "BAD REQUEST";
									}
								}
							};
							httpRequest.open('GET', 'https://www.googleapis.com/blogger/v3/blogs/'+"<data:blog.blogId/>"+'/posts/'+post_id+'?key=AIzaSyAHO1wRv0CrLYzZotA0_3n8cAvPpitYlek');
							httpRequest.send();
						});
					} 
					// else {
					// 	document.title = "<data:blog.pageTitle/>";
					// 	history.back();
					// 	document.getElementById("post-content-" + post_id).innerHTML = "접혔다";
					// }
				}
			})

			const search_form = document.getElementById('searchbar');

			const search_bar_h = document.getElementById('search-container');
			const header_h = document.getElementById('Header1').offsetHeight.toString()+"px";

			search_bar_h.style.marginTop = -search_bar_h.offsetHeight.toString()+"px";
			document.getElementById('blog-left').style.marginTop = header_h;
			document.getElementById('blog-right').style.marginTop = header_h;

			search_form.addEventListener('submit', (e) => {
				e.preventDefault();

				// const httpRequest = new XMLHttpRequest();

				// httpRequest.onreadystatechange = () => {
				// 	if(httpRequest.readyState === XMLHttpRequest.DONE) {
				// 		if(httpRequest.status === 200) {
				// 			// history.pushState({}, "<data:blog.pageTitle/>", "<data:i.url/>");
				// 			document.getElementById("Blog1").innerHTML = "<div>"+httpRequest.responseText+"</div>";
				// 		} else {
				// 			document.getElementById("Blog1").innerHTML = "<div>BAD REQUEST</div>"
				// 		}
				// 	}
				// };
				// httpRequest.open('GET', 'https://loldruger.blogspot.com/search?q='+document.getElementById("search-input").value);
				// httpRequest.send();
			})
		</script> -->

	</body>
</html>
